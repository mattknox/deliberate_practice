This is probably the most significant js program I've written, and it was a rather painful experience.  Most notably, I was pretty surprised to find out that [] != [], and {} != {}.  This meant that I had to implement an equality operator, which seems goofy as hell.  Aside from that, the lack of block lambdas and the general syntactic craziness were issues.  Oh, finally, it was painful to have objects that take only strings and numbers as keys, and which coerce numbers and strings into one another.  Gah.  JS should probably provide a real hashtable, a la ruby.  This would improve things enormously.
